<div class="background">
    <app-sidenav class="mobile-d-none"></app-sidenav>
    <div class="content">
        <div class="header">
            <div class="header-content">
                <h1 class="title mobile-d-none">Monitoreo global</h1>
                <span class="toggle-sidenav" data-bs-toggle="offcanvas" href="#sidenavOffcanvas" role="button" aria-controls="sidenavOffcanvas">
                    <img src="../../../../assets/img/ci_hamburger-md.png">
                </span>

                <div class="offcanvas offcanvas-start" tabindex="-1" id="sidenavOffcanvas" aria-labelledby="offcanvasExampleLabel">
                    <span class="logo"><img src="../../../../../assets/img/Logo.png"></span>
                    <span class="dashboard"><img src="../../../../../assets/img/Dashboard.png"></span>
                    <span><img src="../../../../../assets/img/Monitoreo por planta.png"></span>
                    <span><img src="../../../../../assets/img/Histórico de sensores.png"></span>
                    <span><img src="../../../../../assets/img/Histórico de plantas.png"></span>
                    <span><img src="../../../../../assets/img/Cerrar sesión.png"></span>
                </div>

                <canvas class="rectangle"></canvas>

                <div class="header-menu">
                    <img class="mobile-d-none" src="../../../../assets/img/Ajustes.png">
                    <img class="mobile-d-none" src="../../../../assets/img/Idioma.png">
                    <img src="../../../../assets/img/notification.png">
                    <p class="name mobile-d-none">
                        {{ userInfo!.name + " " + userInfo!.surname }}
                    </p>
                </div>
            </div>
            <canvas class="header-line"></canvas>
        </div>
        <div class="global-monitoring">
            <h1 class="responsive-title">Resumen de planta</h1>
            <div class="CARD">
                <div class="global-data">
                    <p>Lecturas OK</p>
                    <h2>{{ readings }}</h2>
                </div>
                <img src="../../../../assets/img/Ok.png">
            </div>
            <div class="CARD">
                <div class="global-data">
                    <p>Alertas medias</p>
                    <h2>{{ mediums }}</h2>
                </div>
                <img src="../../../../assets/img/Group 8719.png">
            </div>
            <div class="CARD">
                <div class="global-data">
                    <p>Alertas rojas</p>
                    <h2>{{ reds }}</h2>
                </div>
                <img src="../../../../assets/img/Group 8705.png">
            </div>
            <div class="CARD">
                <div class="global-data">
                    <p>Sensores deshabilitados</p>
                    <h2>{{ disableds }}</h2>
                </div>
                <img src="../../../../assets/img/Group 8712.png">
            </div>
        </div>
        <div class="plants CARD">
            <div class="plants-header">
                <h1 class="plants-title">Plantas</h1>
                <button class="create-plant mobile-d-none" data-bs-toggle="modal" data-bs-target="#createPlantModal">+ Crear nueva planta</button>
                <div class="modal fade" id="createPlantModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                      <div class="modal-content">
                        <div class="modal-body">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Crear nueva planta</h1>
                            <form class="create-plant-form">
                                <label for="plant-name">Nombre planta</label>
                                <input [(ngModel)]="newPlantName" id="plant-name" name="plant-name" placeholder="Ingrese nombre" type="text">
                                <label for="plant-country">País</label>
                                <select [(ngModel)]="newPlantCountry" id="plant-country" name="plant-country">
                                    <option value="" disabled selected>Selecciona un país</option>
                                    <option *ngFor="let country of countriesList">{{ country.name.common }}</option>
                                </select>
                            </form>
                            <button type="button" class="cancel-create-plant-button" data-bs-dismiss="modal">Cancelar</button>
                            <button (click)="createPlant()" type="button" class="create-plant-button" data-bs-dismiss="modal">Crear</button>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <canvas class="line"></canvas>
            <div class="plants-columns-titles plants-row">
                <h1>País</h1>
                <h1 class="plants-row-second plants-row-item">Nombre de la planta</h1>
                <h1 class="plants-row-third plants-row-item">Lecturas</h1>
                <h1 class="plants-row-fourth plants-row-item">Alertas medias</h1>
                <h1 class="plants-row-fifth plants-row-item">Alertas rojas</h1>
                <h1 class="plants-row-sixth plants-row-item">Acciones</h1>
            </div>
            <div class="plants-row" *ngFor="let plant of firstPlants; let i = index" [ngClass]="'plants-row' + i">
                <div class="plant-name-and-country">
                    <p class="plants-row-item plants-row-country">
                        <img class="flag" src="{{ flags[i] }}">
                        {{ plant.country }}
                    </p>
                    <p class="plants-row-second plants-row-item">{{ plant.name }}</p>
                </div>
                <p class="plants-row-third plants-row-item">{{ plant.readings || 0 }}</p>
                <p class="plants-row-fourth plants-row-item">{{ plant.mediums || 0 }}</p>
                <p class="plants-row-fifth plants-row-item">{{ plant.reds || 0 }}</p>
                <span class="plants-row-sixth plants-row-item actions" data-bs-toggle="modal" data-bs-target="#actions-modal">
                    <img src="../../../../assets/img/Vector.png">
                </span>
                <div class="modal fade" id="actions-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                      <div class="modal-content">
                        <div class="modal-body">
                          <button (click)="updateDeleteIndex(i)" type="button" class="actions-button" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#edit-plant-modal">Editar</button>
                          <button type="button" class="actions-button" data-bs-dismiss="modal">Eliminar</button>
                          <button type="button" class="close-actions-button" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                      </div>
                    </div>
                </div>
                <div class="modal fade" id="edit-plant-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                      <div class="modal-content">
                        <div class="modal-body">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Editar planta</h1>
                            <form class="edit-plant-form">
                                <div class="edit-plant-form-field edit-plant-first-column">
                                    <label for="plant-name">Nombre planta</label>
                                    <input id="plant-name" name="plant-name" placeholder="{{ plant.name }}" type="text" disabled>
                                </div>
                                <div class="edit-plant-form-field">
                                    <label for="plant-country">País</label>
                                    <input id="plant-country" name="plant-country" type="text" placeholder="{{ plant.country }}" disabled>
                                </div>
                                <div class="edit-plant-form-field edit-plant-first-column">
                                    <label for="plant-readings">Cantidad de lecturas</label>
                                    <input [(ngModel)]="editPlantReadings" id="plant-readings" name="plant-readings" type="number" placeholder="Ingrese">
                                </div>
                                <div class="edit-plant-form-field">
                                    <label for="plant-readings">Sensores deshabilitados</label>
                                    <input [(ngModel)]="editPlantDisableds" id="plant-readings" name="plant-readings" type="number" placeholder="Ingrese">
                                </div>
                                <div class="edit-plant-form-field edit-plant-first-column">
                                    <label for="plant-readings">Alertas medias</label>
                                    <input [(ngModel)]="editPlantMediums" id="plant-readings" name="plant-readings" type="number" placeholder="Ingrese">
                                </div>
                                <div class="edit-plant-form-field">
                                    <label for="plant-readings">Alertas rojas</label>
                                    <input [(ngModel)]="editPlantReds" id="plant-readings" name="plant-readings" type="number" placeholder="Ingrese">
                                </div>
                            </form>
                            <div class="edit-plant-modal-buttons">
                                <button type="button" class="cancel-create-plant-button edit-plant-button" data-bs-dismiss="modal">Cancelar</button>
                                <button (click)="editPlant()" type="button" class="create-plant-button edit-plant-button" data-bs-dismiss="modal">Crear</button>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="sensors">
            <div class="sensors-row">
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Temperatura</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon(0).png">
                    </div>
                </div>
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Presión</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon (1).png">
                    </div>
                </div>
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Viento</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon (2).png">
                    </div>
                </div>
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Niveles</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon (3).png">
                    </div>
                </div>
            </div>
            <div class="sensors-row">
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Energía</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon (4).png">
                    </div>
                </div>
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Tensión</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon (5).png">
                    </div>
                </div>
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Monóxido de carbono</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon (6).png">
                    </div>
                </div>
                <div class="CARD">
                    <div class="sensors-content">
                        <h1>Otros gases</h1>
                        <div class="sensors-readings">
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Ok.png">
                                <p>100</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8719.png">
                                <p>20</p>
                            </div>
                            <div class="sensors-reading">
                                <img src="../../../../assets/img/Group 8705.png">
                                <p>3</p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-icon">
                        <img src="../../../../assets/img/Icon (7).png">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>